<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>自定义指令</title>
    <script src="../js/vue2.js"></script>
</head>

<body>
    <div id="demo">
        <p v-color = "red" skill = "ab">{{name}}</p>
        <p v-color = "ok()" skill = "ps">{{name}}</p>
        <input type="text">
    </div>
</body>
<script>
/*
指令 :操作Dom结构;  减轻methods的容量负担;
Vue.directive('example', {
	一\ 
	//钩子函数:
    // bind: function() {}, 只调用一次，指令第一次绑定到元素时调用，用这个钩子函数可以定义一个在绑定时执行一次的初始化动作。
    // inserted: function() {}, //当绑定元素插入到DOM中后;
    // update: function() {},
    // componentUpdated: function() {},
    // unbind: function() {}
})*/

// 指令的简单写法 vue 2.0 // 这里将会被 `bind` 和 `update` 调用
Vue.directive('color', function(ele, attr) {
    //1.获取指令中的属性值;
	ele.style.color = attr.expression
    console.log(attr)

    //2.获取非标准属性的属性值;
    var skill = ele.getAttribute("skill")
    console.log(skill);

});

new Vue({
    el: "#demo",
    data: {
        name: "heightzhang"
    },
    methods:{
    	ok:function(){
    		console.log('指令中接收')
    	}
    }
})
</script>

</html>

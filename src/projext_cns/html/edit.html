<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
    <!-- 模版样式 -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="这是一个 table 页面">
    <meta name="keywords" content="table">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <link rel="icon" type="image/png" href="../lib/AmazeUI-2.7.2/assets/i/favicon.png">
    <link rel="apple-touch-icon-precomposed" href="../lib/AmazeUI-2.7.2/assets/i/app-icon72x72@2x.png">
    <meta name="apple-mobile-web-app-title" content="Amaze UI" />
    <link rel="stylesheet" href="../lib/AmazeUI-2.7.2/assets/css/amazeui.min.css" />
    <link rel="stylesheet" href="../lib/AmazeUI-2.7.2/assets/css/admin.css">
    <style>
    .am-topbar-inverse {
        background-color: #000;
    }
    </style>
    <!-- 编辑页面样式 -->
    <title>写文章</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <script src="../js/jquery-3.2.1.js"></script>
    <script type="text/javascript" charset="utf-8" src="../lib/ueditor/ueditor.config.js"></script>
    <script type="text/javascript" charset="utf-8" src="../lib/ueditor/editor_api.js">
    </script>
    <!--建议手动加在语言，避免在ie下有时因为加载语言失败导致编辑器加载失败-->
    <!--这里加载的语言文件会覆盖你在配置项目里添加的语言类型，比如你在配置项目里配置的是英文，这里加载的中文，那最后就是中文-->
    <script type="text/javascript" charset="utf-8" src="../lib/ueditor/zh-cn.js"></script>
    <style type="text/css">
    .titlewrap input {
        font-size: 1.7em;
        margin-bottom: 30px;
    }
    
    ;
    </style>
    <script src="../js/jquery-3.2.1.js"></script>
    <script>
    $(function() {
        $('button#fabu').css({
            'backgroundColor': '#222',
            'borderRadius': '5px',
            'color': '#fff'
        })
    })
    </script>
</head>

<body>
    <!--[if lte IE 9]>
<p class="browsehappy">你正在使用<strong>过时</strong>的浏览器，Amaze UI 暂不支持。 请 <a href="http://browsehappy.com/" target="_blank">升级浏览器</a>
  以获得更好的体验！</p>
<![endif]-->
    <header class="am-topbar am-topbar-inverse admin-header">
        <div class="am-topbar-brand" id="am-topbar-brand">
            <strong>拉勾网</strong> <small>后台管理模板</small>
        </div>
        <button class="am-topbar-btn am-topbar-toggle am-btn am-btn-sm am-btn-success am-show-sm-only" data-am-collapse="{target: '#topbar-collapse'}"><span class="am-sr-only">导航切换</span> <span class="am-icon-bars"></span></button>
        <div class="am-collapse am-topbar-collapse" id="topbar-collapse">
            <ul class="am-nav am-nav-pills am-topbar-nav am-topbar-right admin-header-list">
                <li><a href="javascript:;"><span class="am-icon-envelope-o"></span> 收件箱 <span class="am-badge am-badge-warning">5</span></a></li>
                <li class="am-dropdown" data-am-dropdown>
                    <a class="am-dropdown-toggle" data-am-dropdown-toggle href="javascript:;">
                        <span class="am-icon-users"></span> 管理员 <span class="am-icon-caret-down"></span>
                    </a>
                    <ul class="am-dropdown-content">
                        <li><a href="#"><span class="am-icon-user"></span> 资料</a></li>
                        <li><a href="#"><span class="am-icon-cog"></span> 设置</a></li>
                        <li><a href="#"><span class="am-icon-power-off"></span> 退出</a></li>
                    </ul>
                </li>
                <li class="am-hide-sm-only"><a href="javascript:;" id="admin-fullscreen"><span class="am-icon-arrows-alt"></span> <span class="admin-fullText">开启全屏</span></a></li>
            </ul>
        </div>
    </header>
    <div class="am-cf admin-main">
        <!-- sidebar start -->
        <div class="admin-sidebar am-offcanvas" id="admin-offcanvas">
            <div class="am-offcanvas-bar admin-offcanvas-bar">
                <ul class="am-list admin-sidebar-list">
                    <li><a href="admin-index.html"><span class="am-icon-home"></span> 首页</a></li>
                    <li class="admin-parent">
                        <a class="am-cf" data-am-collapse="{target: '#collapse-nav'}"><span class="am-icon-file"></span> 页面模块 <span class="am-icon-angle-right am-fr am-margin-right"></span></a>
                        <ul class="am-list am-collapse admin-sidebar-sub am-in" id="collapse-nav">
                            <li><a href="admin-user.html" class="am-cf"><span class="am-icon-check"></span> 个人资料<span class="am-icon-star am-fr am-margin-right admin-icon-yellow"></span></a></li>
                            <li id="edit"><a href="edit.html"><span class="am-icon-puzzle-piece"></span> 写文章</a></li>
                            <li><a href="admin-gallery.html"><span class="am-icon-th"></span>博客日志<span class="am-badge am-badge-secondary am-margin-right am-fr">24</span></a></li>
                            <li><a href="admin-log.html"><span class="am-icon-calendar"></span> 开发日历</a></li>
                            <li><a href="admin-404.html"><span class="am-icon-bug"></span> 开发者设置</a></li>
                        </ul>
                    </li>
                    <li><a href="admin-table.html"><span class="am-icon-table"></span> 表格</a></li>
                    <li><a href="admin-form.html"><span class="am-icon-pencil-square-o"></span> 表单</a></li>
                    <li><a href="#"><span class="am-icon-sign-out"></span> 注销</a></li>
                </ul>
                <div class="am-panel am-panel-default admin-sidebar-panel">
                    <div class="am-panel-bd">
                        <p><span class="am-icon-bookmark"></span> 公告</p>
                        <p>时光静好，与君语；细水流年，与君同。—— Amaze UI</p>
                    </div>
                </div>
                <div class="am-panel am-panel-default admin-sidebar-panel">
                    <div class="am-panel-bd">
                        <p><span class="am-icon-tag"></span> wiki</p>
                        <p>Welcome to the Amaze UI wiki!</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- sidebar end -->
        <!-- content start -->
        <div class="admin-content">
            <!-- 富文本编辑器 -->
            <div>
                <h1>撰写新文章</h1>
                <div class="titlewrap">
                    <input type="text" style="width: 1024px;height:35px;" placeholder="请在此输入标题">
                </div>
                <script id="editor" type="text/plain" style="width:1024px;height:500px;"></script>
            </div>
            <div id="btns">
                <div>
                    <button onclick="getContent()" id="fabu">发布</button>
                </div>
            </div>
            <script type="text/javascript">
            //实例化编辑器
            //建议使用工厂方法getEditor创建和引用编辑器实例，如果在某个闭包下引用该编辑器，直接调用UE.getEditor('editor')就能拿到相关的实例
            var ue = UE.getEditor('editor');

            function getContent() {
                //获取输入文本的结构;
                var html = UE.getEditor('editor').getContent();
                var title = '<h1>'+$('.titlewrap input').val()+'<h1/>';
                $.ajax({
                	url: "http://localhost:8081/savehtml",
                	type: "post",
                	data: {
                		html:html,
                		title:title
                	},
                	success: function(data) {
                		console.log(data);
                		alert('恭喜,发布成功');
                		location.href = 'article_list.html'
                	}
                })
            };
            
            </script>
            <!-- content end -->
        </div>
        <a href="#" class="am-icon-btn am-icon-th-list am-show-sm-only admin-menu" data-am-offcanvas="{target: '#admin-offcanvas'}"></a>
        <footer>
            <hr>
            <p class="am-padding-left">© 2014 AllMobilize, Inc. Licensed under MIT license.</p>
        </footer>
        <script src="../lib/AmazeUI-2.7.2/assets/js/amazeui.min.js"></script>
        <script src="../lib/AmazeUI-2.7.2/assets/js/app.js"></script>
</body>

</html>
